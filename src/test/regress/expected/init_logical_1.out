-- error message contains path, if extension isn't available
DO $$
BEGIN
   IF EXISTS(SELECT * FROM pg_available_extensions WHERE name = 'test_logical_decoding') THEN
      CREATE EXTENSION test_logical_decoding;
   END IF;
END;
$$;
SELECT 'stop' FROM stop_logical_replication('regression_slot');
ERROR:  logical decoding requires wal_level=logical
SELECT 'init' FROM init_logical_replication('regression_slot', 'test_decoding');
ERROR:  logical decoding requires wal_level=logical
COPY (SELECT data FROM start_logical_replication('regression_slot', 'now', 'include-xids', '0')) TO STDOUT;
ERROR:  function start_logical_replication(unknown, unknown, unknown, unknown) does not exist
LINE 1: COPY (SELECT data FROM start_logical_replication('regression...
                               ^
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
